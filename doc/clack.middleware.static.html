<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Clack.Middleware.Static</title>
  <link rel="stylesheet" href="./main.css" type="text/css" media="screen, tv, print" charset="UTF-8" />
</head>
<body>

<h1>Clack.Middleware.Static - Middleware to serve static files. </h1><h2>SYNOPSIS</h2><pre><code>(run  
  (builder  
   (&lt;clack-middleware-static&gt;  
    :path "/public/"  
    :root #p"/static-files/")  
   app)) </code></pre><h2>DESCRIPTION</h2><p>This is a Clack Middleware component for serving static files. </p><h2>Slots</h2><ul><li>path (Required, String or Function)</li></ul><p><code>path</code>  specifies the prefix of URL or a callback to match with requests to serve static files for. </p><p>Notice. Don't forget to add slush "/" to the end. </p><ul><li>root (Optional, Pathname)</li></ul><p><code>root</code>  specifies the root directory to serve static files from. </p><h2>EXAMPLE</h2><p>Following example code would serve <em>/public/foo.jpg</em> from <em>/static-files/foo.jpg</em>. </p><pre><code>(run  
  (builder  
   (&lt;clack-middleware-static&gt;  
    :path "/public/"  
    :root #p"/static-files/")  
   app)) </code></pre><p>You can set any function that returns mapped filename, for <code> :path</code> . Above example is able to be rewritten as following code. </p><pre><code>(run  
  (builder  
   (&lt;clack-middleware-static&gt;  
    :path (lambda (path)  
            (when (ppcre:scan path "^/public/")  
              (subseq path 7)))  
    :root #p"/static-files/")  
   app)) </code></pre><h2>AUTHOR</h2><ul><li>Eitarow Fukamachi (e.arrows@gmail.com)</li></ul><h2>SEE ALSO</h2><ul><li>Clack.App.File</li></ul>

<h2>EXTERNAL SYMBOLS</h2>

<div class="symbol">
  <ul>

<li>
  Class: <strong>&lt;clack-middleware-static&gt;</strong> inherits (&lt;middleware&gt;)

<pre>
  Clack Middleware to intercept requests for static files.
</pre>

<dl>

<dt><strong>path</strong> Accessor: static-path</small></dt>


<dt><strong>root</strong> Accessor: static-root</small></dt>


</dl>

</li>

<li>
  Method: <strong>call</strong>
[(this &lt;clack-middleware-static&gt;) env]


</li>

  </ul>
</div>

</body>
</html>
