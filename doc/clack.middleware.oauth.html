<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>CLACK.MIDDLEWARE.OAUTH</title>
  <link rel="stylesheet" href="./main.css" type="text/css" media="screen, tv, print" charset="UTF-8" />
</head>
<body>

<h1>Clack.Middleware.OAuth - Supports authorization mechanism by OAuth. </h1><h2>SYNOPSIS</h2><pre><code>(run  
  (builder  
   (&lt;clack-middleware-oauth&gt;  
     :consumer-key "XXXXXXXXXXXXXXXXXXXXX"  
     :consumer-secret "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"  
     :authorize-uri "http://localhost/authorize"  
     :request-token-uri "http://localhost/request"  
     :access-token-uri "http://localhost/access"  
     :path "/auth"  
     :callback-base "http://localhost/"  
     :authorized #'callback)  
   app)) </code></pre><h2>DESCRIPTION</h2><p>This is a Clack Middleware for OAuth. Please read rfc5849 for more information. </p><h2>Slots</h2><ul><li>consumer-key, consumer-secret (Required, String)</li></ul><p>OAuth parameter. </p><ul><li>authorize-uri, request-token-uri, access-token-uri (Required, String)</li></ul><p>URIs to process OAuth. </p><ul><li>path</li></ul><p>A path to be handled by <clack.middleware.oauth> . </p><ul><li>callback-base</li></ul><p>A host address will be passed to OAuth Provider. (format nil "~a~a" <code>callback-base' </code>path') should be valid URI. </p><ul><li>authorized (Required, function)</li></ul><p>A callback function when authorization is suceeded. It will be called with two parameters: clack request and cl-oauth:access-token. </p><h2>AUTHOR</h2><ul><li>Norihisa Fujita (n.fujita@ariel-networks.com)</li></ul>

<h2>EXTERNAL SYMBOLS</h2>

<div class="symbol">
  <ul>

<li>
  Class: <strong><clack-middleware-oauth></strong> inherits ((<middleware>))

<dl>

<dt><strong>path</strong> Accessor: oauth-path</small></dt>


<dt><strong>callback-base</strong> Accessor: oauth-callback-base</small></dt>


<dt><strong>consumer-key</strong> Accessor: oauth-consumer-key</small></dt>


<dt><strong>consumer-secret</strong> Accessor: oauth-consumer-secret</small></dt>


<dt><strong>authorize-uri</strong> Accessor: oauth-authorize-uri</small></dt>


<dt><strong>request-token-uri</strong> Accessor: oauth-request-token-uri</small></dt>


<dt><strong>access-token-uri</strong> Accessor: oauth-access-token-uri</small></dt>


<dt><strong>authorized</strong> Accessor: oauth-authorized</small></dt>


<dt><strong>state</strong> Accessor: oauth-state</small></dt>


<dt><strong>state-expire</strong> Accessor: oauth-state-expire</small></dt>


</dl>

</li>

<li>
  Method: <strong>call</strong>
[(this <clack-middleware-oauth>) req]


</li>

  </ul>
</div>

</body>
</html>
