<html><head><title>Clack.Test - Clack API Reference</title><link href="doc.css" rel="stylesheet" type="text/css"></head><body><h1>Clack.Test - Testing Clack Applications. </h1><h2>SYNOPSIS</h2><pre><code>(defpackage clack-test.sample  
  (:use :cl  
        :clack.test  
        :cl-test-more  
        :drakma))  
(in-package :clack-test.sample)  
 
(test-app  
 (lambda (req)  
   (declare (ignore req))  
   `(200 (:content-type "text/plain") ("Hello, Clack!")))  
 (lambda ()  
   (multiple-value-bind (body status headers)  
       (http-request "http://localhost:4242")  
     (is status 200)  
     (is body "Hello, Clack!")  
     (is (getf headers :content-type) "text/plain")))  
 "Testing simple application") </code></pre><h2>DESCRIPTION</h2><p>Clack.Test provides simple interface to test Clack Application or Middleware. </p><p>Your Lisp have to support multi-thread to run this. </p><h2>AUTHOR</h2><p>Eitarow Fukamachi (e.arrows@gmail.com) </p><h2>SEE ALSO</h2><ul><li><a href="https://github.com/fukamachi/cl-test-more">CL-TEST-MORE</a></li><li>Drakma</li></ul><h2>EXTERNAL SYMBOLS</h2><div class="symbol"> <ul><li>Variable: <strong> *clack-test-handler*</strong></li><li>Variable: <strong> *clack-test-port*</strong></li><li>Variable: <strong> *enable-debug-p*</strong></li><li>Function: <strong> test-app</strong>  [app client &amp;optional desc]<pre> Test Clack Application.</pre></li><li>Macro: <strong> define-app-test</strong>  [desc app client &amp;optional (enable-debug-p *enable-debug-p*)]<pre> Define tests for Clack Application. This just wrap `cl-test-more:deftest', so you can run this test by calling `(cl-test-more:run-test :foo)'.</pre>  </div>  </li></ul></body></html>