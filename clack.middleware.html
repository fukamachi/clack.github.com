<html><head><title>Clack.Middleware - Clack API Reference</title><link href="doc.css" rel="stylesheet" type="text/css"></head><body><h1>Clack.Middleware - Base Class for Clack Middleware. </h1><h2>SYNOPSIS</h2><pre><code>(in-package :cl-user)  
(defpackage clack.middleware.example  
  (:use :cl :clack)  
  (:export :&lt;clack-middleware-example&gt;))  
(in-package :clack.middleware.example)  
 
(defclass &lt;clack-middleware-example&gt; (&lt;middleware&gt;) ())  
(defmethod call ((this &lt;clack-middleware-example&gt;) req)  
  ;; pre-processing `req'  
  (let ((res (call-next this req)))  
    ;; post-processing `res'  
    res)) </code></pre><h2>DESCRIPTION</h2><p>Clack.Middleware is the base class to write Clack Middleware. </p><p>All you have to do is to inherit from <code>&lt;middleware&gt;' and then implement the callback </code>call' method to do the actual work. </p><p>Middleware is similar to ':around' method of CLOS. You can delegate some processes to Application (or next Middleware) to call `call-next'. </p><h2>AUTHOR</h2><p>  Author: Eitarow Fukamachi (e.arrows@gmail.com) </p><h2>SEE ALSO</h2><ul><li>Clack.Component</li></ul><h2>EXTERNAL SYMBOLS</h2><div class="symbol"> <ul><li>Class: <strong>&lt;middleware&gt;</strong> inherits (&lt;component&gt;)<pre> Class for Clack Middleware.</pre></li></ul><dl><dt> <strong> app</strong>  Reader: app</small> </dt> </dl>  <ul><li>Method: <strong> call-next</strong>  [(this &lt;middleware&gt;) req]<pre> Call next middleware or application.</pre></li><li>Method: <strong> wrap</strong>  [(this &lt;middleware&gt;) app-or-middleware]<pre> Compose this and given application or middleware instance into one function.<br /> The function takes request plist.</pre>  </div>  </li></ul></body></html>