---
title: 5. Component
layout: tutorial

previous:
  url: 04-the-environment.html
  title: 4. The Environment
next:
  url: 06-using-clack-app-directory.html
  title: 6. Using Clack.App.Directory
---

<div id="main">

<p>Sorry. I told a lie in <a href="03-hello-world.html">Chapter 3</a>: <cite>Clack application is just a function.</cite> The truth is, <strong>it's not always a function</strong>. See this example:</p>

<pre>
;; importing symbols for readability.
(import '(clack:call clack:&lt;component&gt;))

(defclass &lt;sample-app&gt; (&lt;component&gt;) ())

(defmethod call ((this &lt;sample-app&gt;) env)
  (declare (ignore env))
  '(200
    (:content-type "text/plain")
    ("Hello, Clack!")))

(clack:clackup
  (make-instance '&lt;sample-app&gt;))
</pre>

<p>This is much similar to what we saw before, isn't it? The differeces are minor: the content of the function was just moved into the <code>call</code> method, and the argument of the <code>clackup</code> is an instance of <code>&lt;sample-app&gt;</code>.</p>

<p>In a nutshell, <code>clackup</code> takes a function or an instance of a subclass of <code>&lt;component&gt;</code> as a Clack application implementation. All components must implement <code>call</code>, which is called for each request.</p>

<p>You may not understand yet how these things work. Don't worry. I'll tell the details with a real example in the next chapter. Please just remember <code>clackup</code> can take a CLOS instance for now.</p>

</div>

<div id="footer">
  <div class="left"><a href="04-the-environment.html">&lt;&lt;4. The Environment</a></div>
  <div class="center"><a href="./">Tutorial</a></div>
  <div class="right"><a href="06-using-clack-app-directory.html">6. Using Clack.App.Directory &gt;&gt;</a></div>
</div>
